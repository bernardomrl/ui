{"version":3,"file":"index.cjs48.js","sources":["../src/providers/theme.tsx"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'dark' | 'light' | 'system';\n\ntype ThemeProviderProps = {\n\tchildren: React.ReactNode;\n\tdefaultTheme?: Theme;\n\tstorageKey?: string;\n};\n\ntype ThemeProviderState = {\n\ttheme: Theme;\n\tsetTheme: (theme: Theme) => void;\n};\n\nconst initialState: ThemeProviderState = {\n\ttheme: 'system',\n\tsetTheme: () => null,\n};\n\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState);\n\nexport function ThemeProvider({\n\tchildren,\n\tdefaultTheme = 'system',\n\tstorageKey = 'vite-ui-theme',\n\t...props\n}: ThemeProviderProps) {\n\tconst [theme, setTheme] = useState<Theme>(\n\t\t() => (localStorage.getItem(storageKey) as Theme) || defaultTheme\n\t);\n\n\tuseEffect(() => {\n\t\tconst root = window.document.documentElement;\n\n\t\troot.classList.remove('light', 'dark');\n\n\t\tif (theme === 'system') {\n\t\t\tconst systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\n\t\t\t\t? 'dark'\n\t\t\t\t: 'light';\n\n\t\t\troot.classList.add(systemTheme);\n\t\t\treturn;\n\t\t}\n\n\t\troot.classList.add(theme);\n\t}, [theme]);\n\n\tconst value = {\n\t\ttheme,\n\t\tsetTheme: (theme: Theme) => {\n\t\t\tlocalStorage.setItem(storageKey, theme);\n\t\t\tsetTheme(theme);\n\t\t},\n\t};\n\n\treturn (\n\t\t<ThemeProviderContext.Provider {...props} value={value}>\n\t\t\t{children}\n\t\t</ThemeProviderContext.Provider>\n\t);\n}\n\nexport const useTheme = () => {\n\tconst context = useContext(ThemeProviderContext);\n\n\tif (context === undefined)\n\t\tthrow new Error('useTheme must be used within a ThemeProvider');\n\n\treturn context;\n};\n"],"names":["initialState","ThemeProviderContext","createContext","ThemeProvider","children","defaultTheme","storageKey","props","theme","setTheme","useState","useEffect","root","systemTheme","value","useTheme","context","useContext"],"mappings":"uIAeMA,EAAmC,CACxC,MAAO,SACP,SAAU,IAAM,IACjB,EAEMC,EAAuBC,EAAAA,cAAkCF,CAAY,EAEpE,SAASG,EAAc,CAC7B,SAAAC,EACA,aAAAC,EAAe,SACf,WAAAC,EAAa,gBACb,GAAGC,CACJ,EAAuB,CACtB,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SACzB,IAAO,aAAa,QAAQJ,CAAU,GAAeD,CAAA,EAGtDM,EAAAA,UAAU,IAAM,CACf,MAAMC,EAAO,OAAO,SAAS,gBAI7B,GAFAA,EAAK,UAAU,OAAO,QAAS,MAAM,EAEjCJ,IAAU,SAAU,CACvB,MAAMK,EAAc,OAAO,WAAW,8BAA8B,EAAE,QACnE,OACA,QAEHD,EAAK,UAAU,IAAIC,CAAW,EAC9B,MACD,CAEAD,EAAK,UAAU,IAAIJ,CAAK,CACzB,EAAG,CAACA,CAAK,CAAC,EAEV,MAAMM,EAAQ,CACb,MAAAN,EACA,SAAWA,GAAiB,CAC3B,aAAa,QAAQF,EAAYE,CAAK,EACtCC,EAASD,CAAK,CACf,CAAA,EAGD,+BACEP,EAAqB,SAArB,CAA+B,GAAGM,EAAO,MAAAO,EACxC,SAAAV,EACF,CAEF,CAEO,MAAMW,EAAW,IAAM,CAC7B,MAAMC,EAAUC,EAAAA,WAAWhB,CAAoB,EAE/C,GAAIe,IAAY,OACf,MAAM,IAAI,MAAM,8CAA8C,EAE/D,OAAOA,CACR"}