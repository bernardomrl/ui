"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const Ie=require("./index.cjs119.js"),_=require("./index.cjs75.js"),Re=require("react"),I=require("./index.cjs106.js"),O=require("./index.cjs112.js"),F=require("./index.cjs108.js");function xe(t){const l=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const m=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(l,r,m.get?m:{enumerable:!0,get:()=>t[r]})}}return l.default=t,Object.freeze(l)}const n=xe(Re);var j='[cmdk-group=""]',Q='[cmdk-group-items=""]',Pe='[cmdk-group-heading=""]',de='[cmdk-item=""]',ce=`${de}:not([aria-disabled="true"])`,X="cmdk-item-select",D="data-value",se=(t,l,r)=>Ie.a(t,l,r),fe=n.createContext(void 0),K=()=>n.useContext(fe),me=n.createContext(void 0),ee=()=>n.useContext(me),ve=n.createContext(void 0),te=n.forwardRef((t,l)=>{let r=q(()=>{var e,u;return{search:"",value:(u=(e=t.value)!=null?e:t.defaultValue)!=null?u:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),m=q(()=>new Set),i=q(()=>new Map),c=q(()=>new Map),d=q(()=>new Set),v=we(t),{label:h,children:s,value:b,onValueChange:R,filter:C,shouldFilter:k,loop:L,disablePointerSelection:B=!1,vimBindings:x=!0,...V}=t,T=O.useId(),re=O.useId(),H=O.useId(),P=n.useRef(null),g=qe();A(()=>{if(b!==void 0){let e=b.trim();r.current.value=e,y.emit()}},[b]),A(()=>{g(6,le)},[]);let y=n.useMemo(()=>({subscribe:e=>(d.current.add(e),()=>d.current.delete(e)),snapshot:()=>r.current,setState:(e,u,o)=>{var a,f,p,S;if(!Object.is(r.current[e],u)){if(r.current[e]=u,e==="search")W(),G(),g(1,J);else if(e==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let E=document.getElementById(H);E?E.focus():(a=document.getElementById(T))==null||a.focus()}if(g(7,()=>{var E;r.current.selectedItemId=(E=M())==null?void 0:E.id,y.emit()}),o||g(5,le),((f=v.current)==null?void 0:f.value)!==void 0){let E=u??"";(S=(p=v.current).onValueChange)==null||S.call(p,E);return}}y.emit()}},emit:()=>{d.current.forEach(e=>e())}}),[]),U=n.useMemo(()=>({value:(e,u,o)=>{var a;u!==((a=c.current.get(e))==null?void 0:a.value)&&(c.current.set(e,{value:u,keywords:o}),r.current.filtered.items.set(e,ne(u,o)),g(2,()=>{G(),y.emit()}))},item:(e,u)=>(m.current.add(e),u&&(i.current.has(u)?i.current.get(u).add(e):i.current.set(u,new Set([e]))),g(3,()=>{W(),G(),r.current.value||J(),y.emit()}),()=>{c.current.delete(e),m.current.delete(e),r.current.filtered.items.delete(e);let o=M();g(4,()=>{W(),o?.getAttribute("id")===e&&J(),y.emit()})}),group:e=>(i.current.has(e)||i.current.set(e,new Set),()=>{c.current.delete(e),i.current.delete(e)}),filter:()=>v.current.shouldFilter,label:h||t["aria-label"],getDisablePointerSelection:()=>v.current.disablePointerSelection,listId:T,inputId:H,labelId:re,listInnerRef:P}),[]);function ne(e,u){var o,a;let f=(a=(o=v.current)==null?void 0:o.filter)!=null?a:se;return e?f(e,r.current.search,u):0}function G(){if(!r.current.search||v.current.shouldFilter===!1)return;let e=r.current.filtered.items,u=[];r.current.filtered.groups.forEach(a=>{let f=i.current.get(a),p=0;f.forEach(S=>{let E=e.get(S);p=Math.max(E,p)}),u.push([a,p])});let o=P.current;$().sort((a,f)=>{var p,S;let E=a.getAttribute("id"),N=f.getAttribute("id");return((p=e.get(N))!=null?p:0)-((S=e.get(E))!=null?S:0)}).forEach(a=>{let f=a.closest(Q);f?f.appendChild(a.parentElement===f?a:a.closest(`${Q} > *`)):o.appendChild(a.parentElement===o?a:a.closest(`${Q} > *`))}),u.sort((a,f)=>f[1]-a[1]).forEach(a=>{var f;let p=(f=P.current)==null?void 0:f.querySelector(`${j}[${D}="${encodeURIComponent(a[0])}"]`);p?.parentElement.appendChild(p)})}function J(){let e=$().find(o=>o.getAttribute("aria-disabled")!=="true"),u=e?.getAttribute(D);y.setState("value",u||void 0)}function W(){var e,u,o,a;if(!r.current.search||v.current.shouldFilter===!1){r.current.filtered.count=m.current.size;return}r.current.filtered.groups=new Set;let f=0;for(let p of m.current){let S=(u=(e=c.current.get(p))==null?void 0:e.value)!=null?u:"",E=(a=(o=c.current.get(p))==null?void 0:o.keywords)!=null?a:[],N=ne(S,E);r.current.filtered.items.set(p,N),N>0&&f++}for(let[p,S]of i.current)for(let E of S)if(r.current.filtered.items.get(E)>0){r.current.filtered.groups.add(p);break}r.current.filtered.count=f}function le(){var e,u,o;let a=M();a&&(((e=a.parentElement)==null?void 0:e.firstChild)===a&&((o=(u=a.closest(j))==null?void 0:u.querySelector(Pe))==null||o.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function M(){var e;return(e=P.current)==null?void 0:e.querySelector(`${de}[aria-selected="true"]`)}function $(){var e;return Array.from(((e=P.current)==null?void 0:e.querySelectorAll(ce))||[])}function Y(e){let u=$()[e];u&&y.setState("value",u.getAttribute(D))}function Z(e){var u;let o=M(),a=$(),f=a.findIndex(S=>S===o),p=a[f+e];(u=v.current)!=null&&u.loop&&(p=f+e<0?a[a.length-1]:f+e===a.length?a[0]:a[f+e]),p&&y.setState("value",p.getAttribute(D))}function ae(e){let u=M(),o=u?.closest(j),a;for(;o&&!a;)o=e>0?Me(o,j):De(o,j),a=o?.querySelector(ce);a?y.setState("value",a.getAttribute(D)):Z(e)}let ue=()=>Y($().length-1),ie=e=>{e.preventDefault(),e.metaKey?ue():e.altKey?ae(1):Z(1)},oe=e=>{e.preventDefault(),e.metaKey?Y(0):e.altKey?ae(-1):Z(-1)};return n.createElement(I.Primitive.div,{ref:l,tabIndex:-1,...V,"cmdk-root":"",onKeyDown:e=>{var u;(u=V.onKeyDown)==null||u.call(V,e);let o=e.nativeEvent.isComposing||e.keyCode===229;if(!(e.defaultPrevented||o))switch(e.key){case"n":case"j":{x&&e.ctrlKey&&ie(e);break}case"ArrowDown":{ie(e);break}case"p":case"k":{x&&e.ctrlKey&&oe(e);break}case"ArrowUp":{oe(e);break}case"Home":{e.preventDefault(),Y(0);break}case"End":{e.preventDefault(),ue();break}case"Enter":{e.preventDefault();let a=M();if(a){let f=new Event(X);a.dispatchEvent(f)}}}}},n.createElement("label",{"cmdk-label":"",htmlFor:U.inputId,id:U.labelId,style:$e},h),z(t,e=>n.createElement(me.Provider,{value:y},n.createElement(fe.Provider,{value:U},e))))}),pe=n.forwardRef((t,l)=>{var r,m;let i=O.useId(),c=n.useRef(null),d=n.useContext(ve),v=K(),h=we(t),s=(m=(r=h.current)==null?void 0:r.forceMount)!=null?m:d?.forceMount;A(()=>{if(!s)return v.item(i,d?.id)},[s]);let b=Ce(i,c,[t.value,t.children,c],t.keywords),R=ee(),C=w(g=>g.value&&g.value===b.current),k=w(g=>s||v.filter()===!1?!0:g.search?g.filtered.items.get(i)>0:!0);n.useEffect(()=>{let g=c.current;if(!(!g||t.disabled))return g.addEventListener(X,L),()=>g.removeEventListener(X,L)},[k,t.onSelect,t.disabled]);function L(){var g,y;B(),(y=(g=h.current).onSelect)==null||y.call(g,b.current)}function B(){R.setState("value",b.current,!0)}if(!k)return null;let{disabled:x,value:V,onSelect:T,forceMount:re,keywords:H,...P}=t;return n.createElement(I.Primitive.div,{ref:F.composeRefs(c,l),...P,id:i,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!C,"data-disabled":!!x,"data-selected":!!C,onPointerMove:x||v.getDisablePointerSelection()?void 0:B,onClick:x?void 0:L},t.children)}),ge=n.forwardRef((t,l)=>{let{heading:r,children:m,forceMount:i,...c}=t,d=O.useId(),v=n.useRef(null),h=n.useRef(null),s=O.useId(),b=K(),R=w(k=>i||b.filter()===!1?!0:k.search?k.filtered.groups.has(d):!0);A(()=>b.group(d),[]),Ce(d,v,[t.value,t.heading,h]);let C=n.useMemo(()=>({id:d,forceMount:i}),[i]);return n.createElement(I.Primitive.div,{ref:F.composeRefs(v,l),...c,"cmdk-group":"",role:"presentation",hidden:R?void 0:!0},r&&n.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:s},r),z(t,k=>n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?s:void 0},n.createElement(ve.Provider,{value:C},k))))}),be=n.forwardRef((t,l)=>{let{alwaysRender:r,...m}=t,i=n.useRef(null),c=w(d=>!d.search);return!r&&!c?null:n.createElement(I.Primitive.div,{ref:F.composeRefs(i,l),...m,"cmdk-separator":"",role:"separator"})}),he=n.forwardRef((t,l)=>{let{onValueChange:r,...m}=t,i=t.value!=null,c=ee(),d=w(s=>s.search),v=w(s=>s.selectedItemId),h=K();return n.useEffect(()=>{t.value!=null&&c.setState("search",t.value)},[t.value]),n.createElement(I.Primitive.input,{ref:l,...m,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":v,id:h.inputId,type:"text",value:i?t.value:d,onChange:s=>{i||c.setState("search",s.target.value),r?.(s.target.value)}})}),Ee=n.forwardRef((t,l)=>{let{children:r,label:m="Suggestions",...i}=t,c=n.useRef(null),d=n.useRef(null),v=w(s=>s.selectedItemId),h=K();return n.useEffect(()=>{if(d.current&&c.current){let s=d.current,b=c.current,R,C=new ResizeObserver(()=>{R=requestAnimationFrame(()=>{let k=s.offsetHeight;b.style.setProperty("--cmdk-list-height",k.toFixed(1)+"px")})});return C.observe(s),()=>{cancelAnimationFrame(R),C.unobserve(s)}}},[]),n.createElement(I.Primitive.div,{ref:F.composeRefs(c,l),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":v,"aria-label":m,id:h.listId},z(t,s=>n.createElement("div",{ref:F.composeRefs(d,h.listInnerRef),"cmdk-list-sizer":""},s)))}),ye=n.forwardRef((t,l)=>{let{open:r,onOpenChange:m,overlayClassName:i,contentClassName:c,container:d,...v}=t;return n.createElement(_.Root,{open:r,onOpenChange:m},n.createElement(_.Portal,{container:d},n.createElement(_.Overlay,{"cmdk-overlay":"",className:i}),n.createElement(_.Content,{"aria-label":t.label,"cmdk-dialog":"",className:c},n.createElement(te,{ref:l,...v}))))}),Se=n.forwardRef((t,l)=>w(r=>r.filtered.count===0)?n.createElement(I.Primitive.div,{ref:l,...t,"cmdk-empty":"",role:"presentation"}):null),ke=n.forwardRef((t,l)=>{let{progress:r,children:m,label:i="Loading...",...c}=t;return n.createElement(I.Primitive.div,{ref:l,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},z(t,d=>n.createElement("div",{"aria-hidden":!0},d)))}),Ae=Object.assign(te,{List:Ee,Item:pe,Input:he,Group:ge,Separator:be,Dialog:ye,Empty:Se,Loading:ke});function Me(t,l){let r=t.nextElementSibling;for(;r;){if(r.matches(l))return r;r=r.nextElementSibling}}function De(t,l){let r=t.previousElementSibling;for(;r;){if(r.matches(l))return r;r=r.previousElementSibling}}function we(t){let l=n.useRef(t);return A(()=>{l.current=t}),l}var A=typeof window>"u"?n.useEffect:n.useLayoutEffect;function q(t){let l=n.useRef();return l.current===void 0&&(l.current=t()),l}function w(t){let l=ee(),r=()=>t(l.snapshot());return n.useSyncExternalStore(l.subscribe,r,r)}function Ce(t,l,r,m=[]){let i=n.useRef(),c=K();return A(()=>{var d;let v=(()=>{var s;for(let b of r){if(typeof b=="string")return b.trim();if(typeof b=="object"&&"current"in b)return b.current?(s=b.current.textContent)==null?void 0:s.trim():i.current}})(),h=m.map(s=>s.trim());c.value(t,v,h),(d=l.current)==null||d.setAttribute(D,v),i.current=v}),i}var qe=()=>{let[t,l]=n.useState(),r=q(()=>new Map);return A(()=>{r.current.forEach(m=>m()),r.current=new Map},[t]),(m,i)=>{r.current.set(m,i),l({})}};function Oe(t){let l=t.type;return typeof l=="function"?l(t.props):"render"in l?l.render(t.props):t}function z({asChild:t,children:l},r){return t&&n.isValidElement(l)?n.cloneElement(Oe(l),{ref:l.ref},r(l.props.children)):r(l)}var $e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};exports.Command=Ae;exports.CommandDialog=ye;exports.CommandEmpty=Se;exports.CommandGroup=ge;exports.CommandInput=he;exports.CommandItem=pe;exports.CommandList=Ee;exports.CommandLoading=ke;exports.CommandRoot=te;exports.CommandSeparator=be;exports.defaultFilter=se;exports.useCommandState=w;
//# sourceMappingURL=index.cjs71.js.map
