"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const L=require("react"),d=require("./index.cjs109.js"),k=require("./index.cjs103.js"),F=require("./index.cjs111.js"),$=require("./index.cjs108.js"),C=require("./index.cjs121.js"),I=require("./index.cjs122.js"),D=require("./index.cjs116.js"),U=require("./index.cjs106.js"),W=require("./index.cjs123.js"),i=require("react/jsx-runtime");function B(e){const o=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(o,t,a.get?a:{enumerable:!0,get:()=>e[t]})}}return o.default=e,Object.freeze(o)}const n=B(L);var E,S="HoverCard",[N]=k.createContextScope(S,[C.createPopperScope]),H=C.createPopperScope(),[G,b]=N(S),w=e=>{const{__scopeHoverCard:o,children:t,open:a,defaultOpen:s,onOpenChange:c,openDelay:v=700,closeDelay:f=300}=e,l=H(o),h=n.useRef(0),u=n.useRef(0),x=n.useRef(!1),p=n.useRef(!1),[m,r]=F.useControllableState({prop:a,defaultProp:s??!1,onChange:c,caller:S}),P=n.useCallback(()=>{clearTimeout(u.current),h.current=window.setTimeout(()=>r(!0),v)},[v,r]),M=n.useCallback(()=>{clearTimeout(h.current),!x.current&&!p.current&&(u.current=window.setTimeout(()=>r(!1),f))},[f,r]),q=n.useCallback(()=>r(!1),[r]);return n.useEffect(()=>()=>{clearTimeout(h.current),clearTimeout(u.current)},[]),i.jsx(G,{scope:o,open:m,onOpenChange:r,onOpen:P,onClose:M,onDismiss:q,hasSelectionRef:x,isPointerDownOnContentRef:p,children:i.jsx(C.Root,{...l,children:t})})};w.displayName=S;var j="HoverCardTrigger",T=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,...a}=e,s=b(j,t),c=H(t);return i.jsx(C.Anchor,{asChild:!0,...c,children:i.jsx(U.Primitive.a,{"data-state":s.open?"open":"closed",...a,ref:o,onPointerEnter:d.composeEventHandlers(e.onPointerEnter,R(s.onOpen)),onPointerLeave:d.composeEventHandlers(e.onPointerLeave,R(s.onClose)),onFocus:d.composeEventHandlers(e.onFocus,s.onOpen),onBlur:d.composeEventHandlers(e.onBlur,s.onClose),onTouchStart:d.composeEventHandlers(e.onTouchStart,v=>v.preventDefault())})})});T.displayName=j;var O="HoverCardPortal",[K,z]=N(O,{forceMount:void 0}),y=e=>{const{__scopeHoverCard:o,forceMount:t,children:a,container:s}=e,c=b(O,o);return i.jsx(K,{scope:o,forceMount:t,children:i.jsx(D.Presence,{present:t||c.open,children:i.jsx(I.Portal,{asChild:!0,container:s,children:a})})})};y.displayName=O;var g="HoverCardContent",_=n.forwardRef((e,o)=>{const t=z(g,e.__scopeHoverCard),{forceMount:a=t.forceMount,...s}=e,c=b(g,e.__scopeHoverCard);return i.jsx(D.Presence,{present:a||c.open,children:i.jsx(V,{"data-state":c.open?"open":"closed",...s,onPointerEnter:d.composeEventHandlers(e.onPointerEnter,R(c.onOpen)),onPointerLeave:d.composeEventHandlers(e.onPointerLeave,R(c.onClose)),ref:o})})});_.displayName=g;var V=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:v,...f}=e,l=b(g,t),h=H(t),u=n.useRef(null),x=$.useComposedRefs(o,u),[p,m]=n.useState(!1);return n.useEffect(()=>{if(p){const r=document.body;return E=r.style.userSelect||r.style.webkitUserSelect,r.style.userSelect="none",r.style.webkitUserSelect="none",()=>{r.style.userSelect=E,r.style.webkitUserSelect=E}}},[p]),n.useEffect(()=>{if(u.current){const r=()=>{m(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerup",r),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),n.useEffect(()=>{u.current&&Q(u.current).forEach(P=>P.setAttribute("tabindex","-1"))}),i.jsx(W.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:v,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:d.composeEventHandlers(c,r=>{r.preventDefault()}),onDismiss:l.onDismiss,children:i.jsx(C.Content,{...h,...f,onPointerDown:d.composeEventHandlers(f.onPointerDown,r=>{r.currentTarget.contains(r.target)&&m(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:x,style:{...f.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),J="HoverCardArrow",A=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,...a}=e,s=H(t);return i.jsx(C.Arrow,{...s,...a,ref:o})});A.displayName=J;function R(e){return o=>o.pointerType==="touch"?void 0:e()}function Q(e){const o=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)o.push(t.currentNode);return o}var X=w,Y=T,Z=y,ee=_;exports.Content=ee;exports.HoverCard=w;exports.HoverCardArrow=A;exports.HoverCardContent=_;exports.HoverCardPortal=y;exports.HoverCardTrigger=T;exports.Portal=Z;exports.Root=X;exports.Trigger=Y;
//# sourceMappingURL=index.cjs79.js.map
