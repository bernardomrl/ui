"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("./index.cjs237.js");class n extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(s.tzOffset(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),U(this),a(this)):this.setTime(Date.now())}static tz(e,...o){return o.length?new n(...o,e):new n(Date.now(),e)}withTimeZone(e){return new n(+this,e)}getTimezoneOffset(){const e=-s.tzOffset(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),a(this),+this}[Symbol.for("constructDateFrom")](e){return new n(+new Date(e),this.timeZone)}}const C=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!C.test(t))return;const e=t.replace(C,"$1UTC");n.prototype[e]&&(t.startsWith("get")?n.prototype[t]=function(){return this.internal[e]()}:(n.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),z(this),+this},n.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),a(this),+this}))});function a(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-s.tzOffset(t.timeZone,t)*60))}function z(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),U(t)}function U(t){const e=s.tzOffset(t.timeZone,t),o=e>0?Math.floor(e):Math.ceil(e),i=new Date(+t);i.setUTCHours(i.getUTCHours()-1);const f=-new Date(+t).getTimezoneOffset(),g=-new Date(+i).getTimezoneOffset(),y=f-g,O=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();y&&O&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+y);const r=f-o;r&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+r);const l=new Date(+t);l.setUTCSeconds(0);const m=f>0?l.getSeconds():(l.getSeconds()-60)%60,c=Math.round(-(s.tzOffset(t.timeZone,t)*60))%60;(c||m)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+c),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+c+m));const p=s.tzOffset(t.timeZone,t),u=p>0?Math.floor(p):Math.ceil(p),M=-new Date(+t).getTimezoneOffset()-u,S=u!==o,D=M-r;if(S&&D){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+D);const h=s.tzOffset(t.timeZone,t),w=h>0?Math.floor(h):Math.ceil(h),T=u-w;T&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+T),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+T))}}exports.TZDateMini=n;
//# sourceMappingURL=index.cjs160.js.map
