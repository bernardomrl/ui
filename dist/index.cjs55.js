"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const E=require("react"),I=require("./index.cjs103.js"),_=require("./index.cjs104.js"),f=require("./index.cjs105.js"),v=require("./index.cjs106.js"),w=require("./index.cjs107.js"),l=require("react/jsx-runtime");function j(e){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(a,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return a.default=e,Object.freeze(a)}const i=j(E);var g="Avatar",[C]=I.createContextScope(g),[h,b]=C(g),m=i.forwardRef((e,a)=>{const{__scopeAvatar:r,...n}=e,[o,t]=i.useState("idle");return l.jsx(h,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:t,children:l.jsx(v.Primitive.span,{...n,ref:a})})});m.displayName=g;var x="AvatarImage",A=i.forwardRef((e,a)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...t}=e,d=b(x,r),s=P(n,t),u=_.useCallbackRef(c=>{o(c),d.onImageLoadingStatusChange(c)});return f.useLayoutEffect(()=>{s!=="idle"&&u(s)},[s,u]),s==="loaded"?l.jsx(v.Primitive.img,{...t,ref:a,src:n}):null});A.displayName=x;var y="AvatarFallback",p=i.forwardRef((e,a)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,t=b(y,r),[d,s]=i.useState(n===void 0);return i.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(u)}},[n]),d&&t.imageLoadingStatus!=="loaded"?l.jsx(v.Primitive.span,{...o,ref:a}):null});p.displayName=y;function S(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function P(e,{referrerPolicy:a,crossOrigin:r}){const n=w.useIsHydrated(),o=i.useRef(null),t=n?(o.current||(o.current=new window.Image),o.current):null,[d,s]=i.useState(()=>S(t,e));return f.useLayoutEffect(()=>{s(S(t,e))},[t,e]),f.useLayoutEffect(()=>{const u=R=>()=>{s(R)};if(!t)return;const c=u("loaded"),L=u("error");return t.addEventListener("load",c),t.addEventListener("error",L),a&&(t.referrerPolicy=a),typeof r=="string"&&(t.crossOrigin=r),()=>{t.removeEventListener("load",c),t.removeEventListener("error",L)}},[t,r,a]),d}var k=m,q=A,M=p;exports.Avatar=m;exports.AvatarFallback=p;exports.AvatarImage=A;exports.Fallback=M;exports.Image=q;exports.Root=k;
//# sourceMappingURL=index.cjs55.js.map
