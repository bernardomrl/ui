"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const J=require("./index.cjs75.js"),r=require("react");function ge(t){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const e in t)if(e!=="default"){const a=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,a.get?a:{enumerable:!0,get:()=>t[e]})}}return n.default=t,Object.freeze(n)}const ve=ge(r);function ye(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Vt=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),dt=()=>{const t=r.useContext(Vt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};ye(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function be(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function Se(){return Ct(/^Mac/)}function Te(){return Ct(/^iPhone/)}function Ft(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Re(){return Ct(/^iPad/)||Se()&&navigator.maxTouchPoints>1}function Yt(){return Te()||Re()}function Ct(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Ee=24,De=typeof window<"u"?r.useLayoutEffect:r.useEffect;function Wt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}const Tt=typeof document<"u"&&window.visualViewport;function zt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function qt(t){for(zt(t)&&(t=t.parentElement);t&&!zt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Oe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let wt=0,Rt;function xe(t={}){let{isDisabled:n}=t;De(()=>{if(!n)return wt++,wt===1&&Yt()&&(Rt=Ce()),()=>{wt--,wt===0&&Rt?.()}},[n])}function Ce(){let t,n=0,e=f=>{t=qt(f.target),!(t===document.documentElement&&t===document.body)&&(n=f.changedTouches[0].pageY)},a=f=>{if(!t||t===document.documentElement||t===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,B=t.scrollTop,L=t.scrollHeight-t.clientHeight;L!==0&&((B<=0&&m>n||B>=L&&m<n)&&f.preventDefault(),n=m)},i=f=>{let m=f.target;Ot(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},o=f=>{let m=f.target;Ot(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",Tt&&(Tt.height<window.innerHeight?requestAnimationFrame(()=>{jt(m)}):Tt.addEventListener("resize",()=>jt(m),{once:!0}))}))},v=()=>{window.scrollTo(0,0)},w=window.pageXOffset,T=window.pageYOffset,E=Wt($e(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let h=Wt(ut(document,"touchstart",e,{passive:!1,capture:!0}),ut(document,"touchmove",a,{passive:!1,capture:!0}),ut(document,"touchend",i,{passive:!1,capture:!0}),ut(document,"focus",o,!0),ut(window,"scroll",v));return()=>{E(),h(),window.scrollTo(w,T)}}function $e(t,n,e){let a=t.style[n];return t.style[n]=e,()=>{t.style[n]=a}}function ut(t,n,e,a){return t.addEventListener(n,e,a),()=>{t.removeEventListener(n,e,a)}}function jt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=qt(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let a=e.getBoundingClientRect().top,i=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const v=e.getBoundingClientRect().bottom+Ee;o>v&&(e.scrollTop+=i-a)}t=e.parentElement}}function Ot(t){return t instanceof HTMLInputElement&&!Oe.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Ae(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function Me(...t){return n=>t.forEach(e=>Ae(e,n))}function Xt(...t){return ve.useCallback(Me(...t),t)}const Kt=new WeakMap;function $(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let a={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){t.style.setProperty(i,o);return}a[i]=t.style[i],t.style[i]=o}),!e&&Kt.set(t,a)}function Pe(t,n){if(!t||!(t instanceof HTMLElement))return;let e=Kt.get(t);e&&(t.style[n]=e[n])}const C=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function ht(t,n){if(!t)return null;const e=window.getComputedStyle(t),a=e.transform||e.webkitTransform||e.mozTransform;let i=a.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[C(n)?13:12]):(i=a.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[C(n)?5:4]):null)}function Ie(t){return 8*(Math.log(t+1)-2)}function Et(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function _e(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const O={DURATION:.5,EASE:[.32,.72,0,1]},Gt=.4,He=.25,Ne=100,Jt=8,tt=16,xt=26,Dt="vaul-dragging";function Qt(t){const n=r.useRef(t);return r.useEffect(()=>{n.current=t}),r.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function Le({defaultProp:t,onChange:n}){const e=r.useState(t),[a]=e,i=r.useRef(a),o=Qt(n);return r.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),e}function Zt({prop:t,defaultProp:n,onChange:e=()=>{}}){const[a,i]=Le({defaultProp:n,onChange:e}),o=t!==void 0,v=o?t:a,w=Qt(e),T=r.useCallback(E=>{if(o){const f=typeof E=="function"?E(t):E;f!==t&&w(f)}else i(E)},[o,t,i,w]);return[v,T]}function ke({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:a,overlayRef:i,fadeFromIndex:o,onSnapPointChange:v,direction:w="bottom",container:T,snapToSequentialPoint:E}){const[h,f]=Zt({prop:t,defaultProp:e?.[0],onChange:n}),[m,B]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function u(){B({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const L=r.useMemo(()=>h===e?.[e.length-1]||null,[e,h]),D=r.useMemo(()=>{var u;return(u=e?.findIndex(b=>b===h))!=null?u:null},[e,h]),U=e&&e.length>0&&(o||o===0)&&!Number.isNaN(o)&&e[o]===h||!e,p=r.useMemo(()=>{const u=T?{width:T.getBoundingClientRect().width,height:T.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var b;return(b=e?.map(y=>{const _=typeof y=="string";let P=0;if(_&&(P=parseInt(y,10)),C(w)){const s=_?P:m?y*u.height:0;return m?w==="bottom"?u.height-s:-u.height+s:s}const W=_?P:m?y*u.width:0;return m?w==="right"?u.width-W:-u.width+W:W}))!=null?b:[]},[e,m,T]),M=r.useMemo(()=>D!==null?p?.[D]:null,[p,D]),A=r.useCallback(u=>{var b;const y=(b=p?.findIndex(_=>_===u))!=null?b:null;v(y),$(a.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:C(w)?`translate3d(0, ${u}px, 0)`:`translate3d(${u}px, 0, 0)`}),p&&y!==p.length-1&&o!==void 0&&y!==o&&y<o?$(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"0"}):$(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),f(e?.[Math.max(y,0)])},[a.current,e,p,o,i,f]);r.useEffect(()=>{if(h||t){var u;const b=(u=e?.findIndex(y=>y===t||y===h))!=null?u:-1;p&&b!==-1&&typeof p[b]=="number"&&A(p[b])}},[h,t,e,p,A]);function c({draggedDistance:u,closeDrawer:b,velocity:y,dismissible:_}){if(o===void 0)return;const P=w==="bottom"||w==="right"?(M??0)-u:(M??0)+u,W=D===o-1,s=D===0,F=u>0;if(W&&$(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),!E&&y>2&&!F){_?b():A(p[0]);return}if(!E&&y>2&&F&&p&&e){A(p[e.length-1]);return}const H=p?.reduce((I,q)=>typeof I!="number"||typeof q!="number"?I:Math.abs(q-P)<Math.abs(I-P)?q:I),z=C(w)?window.innerHeight:window.innerWidth;if(y>Gt&&Math.abs(u)<z*.4){const I=F?1:-1;if(I>0&&L&&e){A(p[e.length-1]);return}if(s&&I<0&&_&&b(),D===null)return;A(p[D+I]);return}A(H)}function V({draggedDistance:u}){if(M===null)return;const b=w==="bottom"||w==="right"?M-u:M+u;(w==="bottom"||w==="right")&&b<p[p.length-1]||(w==="top"||w==="left")&&b>p[p.length-1]||$(a.current,{transform:C(w)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})}function Q(u,b){if(!e||typeof D!="number"||!p||o===void 0)return null;const y=D===o-1;if(D>=o&&b)return 0;if(y&&!b)return 1;if(!U&&!y)return null;const P=y?D+1:D-1,W=y?p[P]-p[P-1]:p[P+1]-p[P],s=u/Math.abs(W);return y?1-s:s}return{isLastSnapPoint:L,activeSnapPoint:h,shouldFade:U,getPercentageDragged:Q,setActiveSnapPoint:f,activeSnapPointIndex:D,onRelease:c,onDrag:V,snapPointsOffset:p}}const Be=()=>()=>{};function Ue(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:a,noBodyStyles:i}=dt(),o=r.useRef(null),v=r.useMemo(()=>document.body.style.backgroundColor,[]);function w(){return(window.innerWidth-xt)/window.innerWidth}r.useEffect(()=>{if(n&&e){o.current&&clearTimeout(o.current);const T=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!T)return;_e(a&&!i?Et(document.body,{background:"black"}):Be,Et(T,{transformOrigin:C(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`}));const E=Et(T,{borderRadius:`${Jt}px`,overflow:"hidden",...C(t)?{transform:`scale(${w()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${w()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{E(),o.current=window.setTimeout(()=>{v?document.body.style.background=v:document.body.style.removeProperty("background")},O.DURATION*1e3)}}},[n,e,v])}let ct=null;function Fe({isOpen:t,modal:n,nested:e,hasBeenOpened:a,preventScrollRestoration:i,noBodyStyles:o}){const[v,w]=r.useState(()=>typeof window<"u"?window.location.href:""),T=r.useRef(0),E=r.useCallback(()=>{if(Ft()&&ct===null&&t&&!o){ct={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-T.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const B=m-window.innerHeight;B&&T.current>=m&&(document.body.style.top=`${-(T.current+B)}px`)}),300)}},[t]),h=r.useCallback(()=>{if(Ft()&&ct!==null&&!o){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ct),window.requestAnimationFrame(()=>{if(i&&v!==window.location.href){w(window.location.href);return}window.scrollTo(m,f)}),ct=null}},[v]);return r.useEffect(()=>{function f(){T.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),r.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||h()}},[n,h]),r.useEffect(()=>{e||!a||(t?(!window.matchMedia("(display-mode: standalone)").matches&&E(),n||window.setTimeout(()=>{h()},500)):h())},[t,a,v,n,e,E,h]),{restorePositionSetting:h}}function te({open:t,onOpenChange:n,children:e,onDrag:a,onRelease:i,snapPoints:o,shouldScaleBackground:v=!1,setBackgroundColorOnScale:w=!0,closeThreshold:T=He,scrollLockTimeout:E=Ne,dismissible:h=!0,handleOnly:f=!1,fadeFromIndex:m=o&&o.length-1,activeSnapPoint:B,setActiveSnapPoint:L,fixed:D,modal:U=!0,onClose:p,nested:M,noBodyStyles:A=!1,direction:c="bottom",defaultOpen:V=!1,disablePreventScroll:Q=!0,snapToSequentialPoint:u=!1,preventScrollRestoration:b=!1,repositionInputs:y=!0,onAnimationEnd:_,container:P,autoFocus:W=!1}){var s,F;const[H=!1,z]=Zt({defaultProp:V,prop:t,onChange:l=>{n?.(l),!l&&!M&&ue(),setTimeout(()=>{_?.(l)},O.DURATION*1e3),l&&!U&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),l||(document.body.style.pointerEvents="auto")}}),[I,q]=r.useState(!1),[X,at]=r.useState(!1),[re,Mt]=r.useState(!1),et=r.useRef(null),ft=r.useRef(null),gt=r.useRef(null),vt=r.useRef(null),ot=r.useRef(null),it=r.useRef(!1),yt=r.useRef(null),bt=r.useRef(0),nt=r.useRef(!1),Pt=r.useRef(!V),It=r.useRef(0),d=r.useRef(null),_t=r.useRef(((s=d.current)==null?void 0:s.getBoundingClientRect().height)||0),Ht=r.useRef(((F=d.current)==null?void 0:F.getBoundingClientRect().width)||0),St=r.useRef(0),ae=r.useCallback(l=>{o&&l===lt.length-1&&(ft.current=new Date)},[]),{activeSnapPoint:oe,activeSnapPointIndex:rt,setActiveSnapPoint:Nt,onRelease:ie,snapPointsOffset:lt,onDrag:le,shouldFade:Lt,getPercentageDragged:se}=ke({snapPoints:o,activeSnapPointProp:B,setActiveSnapPointProp:L,drawerRef:d,fadeFromIndex:m,overlayRef:et,onSnapPointChange:ae,direction:c,container:P,snapToSequentialPoint:u});xe({isDisabled:!H||X||!U||re||!I||!y||!Q});const{restorePositionSetting:ue}=Fe({isOpen:H,modal:U,nested:M??!1,hasBeenOpened:I,preventScrollRestoration:b,noBodyStyles:A});function mt(){return(window.innerWidth-xt)/window.innerWidth}function ce(l){var S,R;!h&&!o||d.current&&!d.current.contains(l.target)||(_t.current=((S=d.current)==null?void 0:S.getBoundingClientRect().height)||0,Ht.current=((R=d.current)==null?void 0:R.getBoundingClientRect().width)||0,at(!0),gt.current=new Date,Yt()&&window.addEventListener("touchend",()=>it.current=!1,{once:!0}),l.target.setPointerCapture(l.pointerId),bt.current=C(c)?l.pageY:l.pageX)}function kt(l,S){var R;let g=l;const x=(R=window.getSelection())==null?void 0:R.toString(),k=d.current?ht(d.current,c):null,N=new Date;if(g.tagName==="SELECT"||g.hasAttribute("data-vaul-no-drag")||g.closest("[data-vaul-no-drag]"))return!1;if(c==="right"||c==="left")return!0;if(ft.current&&N.getTime()-ft.current.getTime()<500)return!1;if(k!==null&&(c==="bottom"?k>0:k<0))return!0;if(x&&x.length>0)return!1;if(ot.current&&N.getTime()-ot.current.getTime()<E&&k===0||S)return ot.current=N,!1;for(;g;){if(g.scrollHeight>g.clientHeight){if(g.scrollTop!==0)return ot.current=new Date,!1;if(g.getAttribute("role")==="dialog")return!0}g=g.parentNode}return!0}function de(l){if(d.current&&X){const S=c==="bottom"||c==="right"?1:-1,R=(bt.current-(C(c)?l.pageY:l.pageX))*S,g=R>0,x=o&&!h&&!g;if(x&&rt===0)return;const k=Math.abs(R),N=document.querySelector("[data-vaul-drawer-wrapper]"),K=c==="bottom"||c==="top"?_t.current:Ht.current;let j=k/K;const Z=se(k,g);if(Z!==null&&(j=Z),x&&j>=1||!it.current&&!kt(l.target,g))return;if(d.current.classList.add(Dt),it.current=!0,$(d.current,{transition:"none"}),$(et.current,{transition:"none"}),o&&le({draggedDistance:R}),g&&!o){const Y=Ie(R),pt=Math.min(Y*-1,0)*S;$(d.current,{transform:C(c)?`translate3d(0, ${pt}px, 0)`:`translate3d(${pt}px, 0, 0)`});return}const G=1-j;if((Lt||m&&rt===m-1)&&(a?.(l,j),$(et.current,{opacity:`${G}`,transition:"none"},!0)),N&&et.current&&v){const Y=Math.min(mt()+j*(1-mt()),1),pt=8-j*8,Ut=Math.max(0,14-j*14);$(N,{borderRadius:`${pt}px`,transform:C(c)?`scale(${Y}) translate3d(0, ${Ut}px, 0)`:`scale(${Y}) translate3d(${Ut}px, 0, 0)`,transition:"none"},!0)}if(!o){const Y=k*S;$(d.current,{transform:C(c)?`translate3d(0, ${Y}px, 0)`:`translate3d(${Y}px, 0, 0)`})}}}r.useEffect(()=>{window.requestAnimationFrame(()=>{Pt.current=!0})},[]),r.useEffect(()=>{var l;function S(){if(!d.current||!y)return;const R=document.activeElement;if(Ot(R)||nt.current){var g;const x=((g=window.visualViewport)==null?void 0:g.height)||0,k=window.innerHeight;let N=k-x;const K=d.current.getBoundingClientRect().height||0,j=K>k*.8;St.current||(St.current=K);const Z=d.current.getBoundingClientRect().top;if(Math.abs(It.current-N)>60&&(nt.current=!nt.current),o&&o.length>0&&lt&&rt){const G=lt[rt]||0;N+=G}if(It.current=N,K>x||nt.current){const G=d.current.getBoundingClientRect().height;let Y=G;G>x&&(Y=x-(j?Z:xt)),D?d.current.style.height=`${G-Math.max(N,0)}px`:d.current.style.height=`${Math.max(Y,x-Z)}px`}else be()||(d.current.style.height=`${St.current}px`);o&&o.length>0&&!nt.current?d.current.style.bottom="0px":d.current.style.bottom=`${Math.max(N,0)}px`}}return(l=window.visualViewport)==null||l.addEventListener("resize",S),()=>{var R;return(R=window.visualViewport)==null?void 0:R.removeEventListener("resize",S)}},[rt,o,lt]);function st(l){fe(),p?.(),l||z(!1),setTimeout(()=>{o&&Nt(o[0])},O.DURATION*1e3)}function Bt(){if(!d.current)return;const l=document.querySelector("[data-vaul-drawer-wrapper]"),S=ht(d.current,c);$(d.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),$(et.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),v&&S&&S>0&&H&&$(l,{borderRadius:`${Jt}px`,overflow:"hidden",...C(c)?{transform:`scale(${mt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${mt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`},!0)}function fe(){!X||!d.current||(d.current.classList.remove(Dt),it.current=!1,at(!1),vt.current=new Date)}function me(l){if(!X||!d.current)return;d.current.classList.remove(Dt),it.current=!1,at(!1),vt.current=new Date;const S=ht(d.current,c);if(!l||!kt(l.target,!1)||!S||Number.isNaN(S)||gt.current===null)return;const R=vt.current.getTime()-gt.current.getTime(),g=bt.current-(C(c)?l.pageY:l.pageX),x=Math.abs(g)/R;if(x>.05&&(Mt(!0),setTimeout(()=>{Mt(!1)},200)),o){ie({draggedDistance:g*(c==="bottom"||c==="right"?1:-1),closeDrawer:st,velocity:x,dismissible:h}),i?.(l,!0);return}if(c==="bottom"||c==="right"?g>0:g<0){Bt(),i?.(l,!0);return}if(x>Gt){st(),i?.(l,!1);return}var k;const N=Math.min((k=d.current.getBoundingClientRect().height)!=null?k:0,window.innerHeight);var K;const j=Math.min((K=d.current.getBoundingClientRect().width)!=null?K:0,window.innerWidth),Z=c==="left"||c==="right";if(Math.abs(S)>=(Z?j:N)*T){st(),i?.(l,!1);return}i?.(l,!0),Bt()}r.useEffect(()=>(H&&($(document.documentElement,{scrollBehavior:"auto"}),ft.current=new Date),()=>{Pe(document.documentElement,"scrollBehavior")}),[H]);function pe(l){const S=l?(window.innerWidth-tt)/window.innerWidth:1,R=l?-tt:0;yt.current&&window.clearTimeout(yt.current),$(d.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:C(c)?`scale(${S}) translate3d(0, ${R}px, 0)`:`scale(${S}) translate3d(${R}px, 0, 0)`}),!l&&d.current&&(yt.current=setTimeout(()=>{const g=ht(d.current,c);$(d.current,{transition:"none",transform:C(c)?`translate3d(0, ${g}px, 0)`:`translate3d(${g}px, 0, 0)`})},500))}function we(l,S){if(S<0)return;const R=(window.innerWidth-tt)/window.innerWidth,g=R+S*(1-R),x=-tt+S*tt;$(d.current,{transform:C(c)?`scale(${g}) translate3d(0, ${x}px, 0)`:`scale(${g}) translate3d(${x}px, 0, 0)`,transition:"none"})}function he(l,S){const R=C(c)?window.innerHeight:window.innerWidth,g=S?(R-tt)/R:1,x=S?-tt:0;S&&$(d.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:C(c)?`scale(${g}) translate3d(0, ${x}px, 0)`:`scale(${g}) translate3d(${x}px, 0, 0)`})}return r.useEffect(()=>{U||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[U]),r.createElement(J.Root,{defaultOpen:V,onOpenChange:l=>{!h&&!l||(l?q(!0):st(!0),z(l))},open:H},r.createElement(Vt.Provider,{value:{activeSnapPoint:oe,snapPoints:o,setActiveSnapPoint:Nt,drawerRef:d,overlayRef:et,onOpenChange:n,onPress:ce,onRelease:me,onDrag:de,dismissible:h,shouldAnimate:Pt,handleOnly:f,isOpen:H,isDragging:X,shouldFade:Lt,closeDrawer:st,onNestedDrag:we,onNestedOpenChange:pe,onNestedRelease:he,keyboardIsOpen:nt,modal:U,snapPointsOffset:lt,activeSnapPointIndex:rt,direction:c,shouldScaleBackground:v,setBackgroundColorOnScale:w,noBodyStyles:A,container:P,autoFocus:W}},e))}const $t=r.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:a,onRelease:i,shouldFade:o,isOpen:v,modal:w,shouldAnimate:T}=dt(),E=Xt(n,e),h=a&&a.length>0;if(!w)return null;const f=r.useCallback(m=>i(m),[i]);return r.createElement(J.Overlay,{onMouseUp:f,ref:E,"data-vaul-overlay":"","data-vaul-snap-points":v&&h?"true":"false","data-vaul-snap-points-overlay":v&&o?"true":"false","data-vaul-animate":T?.current?"true":"false",...t})});$t.displayName="Drawer.Overlay";const At=r.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...a},i){const{drawerRef:o,onPress:v,onRelease:w,onDrag:T,keyboardIsOpen:E,snapPointsOffset:h,activeSnapPointIndex:f,modal:m,isOpen:B,direction:L,snapPoints:D,container:U,handleOnly:p,shouldAnimate:M,autoFocus:A}=dt(),[c,V]=r.useState(!1),Q=Xt(i,o),u=r.useRef(null),b=r.useRef(null),y=r.useRef(!1),_=D&&D.length>0;Ue();const P=(s,F,H=0)=>{if(y.current)return!0;const z=Math.abs(s.y),I=Math.abs(s.x),q=I>z,X=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(s.x*X<0)&&I>=0&&I<=H)return q}else if(!(s.y*X<0)&&z>=0&&z<=H)return!q;return y.current=!0,!0};r.useEffect(()=>{_&&window.requestAnimationFrame(()=>{V(!0)})},[]);function W(s){u.current=null,y.current=!1,w(s)}return r.createElement(J.Content,{"data-vaul-drawer-direction":L,"data-vaul-drawer":"","data-vaul-delayed-snap-points":c?"true":"false","data-vaul-snap-points":B&&_?"true":"false","data-vaul-custom-container":U?"true":"false","data-vaul-animate":M?.current?"true":"false",...a,ref:Q,style:h&&h.length>0?{"--snap-point-height":`${h[f??0]}px`,...n}:n,onPointerDown:s=>{p||(a.onPointerDown==null||a.onPointerDown.call(a,s),u.current={x:s.pageX,y:s.pageY},v(s))},onOpenAutoFocus:s=>{e?.(s),A||s.preventDefault()},onPointerDownOutside:s=>{if(t?.(s),!m||s.defaultPrevented){s.preventDefault();return}E.current&&(E.current=!1)},onFocusOutside:s=>{if(!m){s.preventDefault();return}},onPointerMove:s=>{if(b.current=s,p||(a.onPointerMove==null||a.onPointerMove.call(a,s),!u.current))return;const F=s.pageY-u.current.y,H=s.pageX-u.current.x,z=s.pointerType==="touch"?10:2;P({x:H,y:F},L,z)?T(s):(Math.abs(H)>z||Math.abs(F)>z)&&(u.current=null)},onPointerUp:s=>{a.onPointerUp==null||a.onPointerUp.call(a,s),u.current=null,y.current=!1,w(s)},onPointerOut:s=>{a.onPointerOut==null||a.onPointerOut.call(a,s),W(b.current)},onContextMenu:s=>{a.onContextMenu==null||a.onContextMenu.call(a,s),b.current&&W(b.current)}})});At.displayName="Drawer.Content";const We=250,ze=120,ee=r.forwardRef(function({preventCycle:t=!1,children:n,...e},a){const{closeDrawer:i,isDragging:o,snapPoints:v,activeSnapPoint:w,setActiveSnapPoint:T,dismissible:E,handleOnly:h,isOpen:f,onPress:m,onDrag:B}=dt(),L=r.useRef(null),D=r.useRef(!1);function U(){if(D.current){A();return}window.setTimeout(()=>{p()},ze)}function p(){if(o||t||D.current){A();return}if(A(),!v||v.length===0){E||i();return}if(w===v[v.length-1]&&E){i();return}const V=v.findIndex(u=>u===w);if(V===-1)return;const Q=v[V+1];T(Q)}function M(){L.current=window.setTimeout(()=>{D.current=!0},We)}function A(){L.current&&window.clearTimeout(L.current),D.current=!1}return r.createElement("div",{onClick:U,onPointerCancel:A,onPointerDown:c=>{h&&m(c),M()},onPointerMove:c=>{h&&B(c)},ref:a,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});ee.displayName="Drawer.Handle";function ne(t){const n=dt(),{container:e=n.container,...a}=t;return r.createElement(J.Portal,{container:e,...a})}const je={Root:te,Content:At,Overlay:$t,Trigger:J.Trigger,Portal:ne,Close:J.Close,Title:J.Title,Description:J.Description};exports.Content=At;exports.Drawer=je;exports.Handle=ee;exports.Overlay=$t;exports.Portal=ne;exports.Root=te;
//# sourceMappingURL=index.cjs77.js.map
