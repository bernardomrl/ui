{"version":3,"file":"index.es48.js","sources":["../src/providers/theme.tsx"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'dark' | 'light' | 'system';\n\ntype ThemeProviderProps = {\n\tchildren: React.ReactNode;\n\tdefaultTheme?: Theme;\n\tstorageKey?: string;\n};\n\ntype ThemeProviderState = {\n\ttheme: Theme;\n\tsetTheme: (theme: Theme) => void;\n};\n\nconst initialState: ThemeProviderState = {\n\ttheme: 'system',\n\tsetTheme: () => null,\n};\n\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState);\n\nexport function ThemeProvider({\n\tchildren,\n\tdefaultTheme = 'system',\n\tstorageKey = 'vite-ui-theme',\n\t...props\n}: ThemeProviderProps) {\n\tconst [theme, setTheme] = useState<Theme>(\n\t\t() => (localStorage.getItem(storageKey) as Theme) || defaultTheme\n\t);\n\n\tuseEffect(() => {\n\t\tconst root = window.document.documentElement;\n\n\t\troot.classList.remove('light', 'dark');\n\n\t\tif (theme === 'system') {\n\t\t\tconst systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\n\t\t\t\t? 'dark'\n\t\t\t\t: 'light';\n\n\t\t\troot.classList.add(systemTheme);\n\t\t\treturn;\n\t\t}\n\n\t\troot.classList.add(theme);\n\t}, [theme]);\n\n\tconst value = {\n\t\ttheme,\n\t\tsetTheme: (theme: Theme) => {\n\t\t\tlocalStorage.setItem(storageKey, theme);\n\t\t\tsetTheme(theme);\n\t\t},\n\t};\n\n\treturn (\n\t\t<ThemeProviderContext.Provider {...props} value={value}>\n\t\t\t{children}\n\t\t</ThemeProviderContext.Provider>\n\t);\n}\n\nexport const useTheme = () => {\n\tconst context = useContext(ThemeProviderContext);\n\n\tif (context === undefined)\n\t\tthrow new Error('useTheme must be used within a ThemeProvider');\n\n\treturn context;\n};\n"],"names":["initialState","ThemeProviderContext","createContext","ThemeProvider","children","defaultTheme","storageKey","props","theme","setTheme","useState","useEffect","root","systemTheme","value","useTheme","context","useContext"],"mappings":";;AAeA,MAAMA,IAAmC;AAAA,EACxC,OAAO;AAAA,EACP,UAAU,MAAM;AACjB,GAEMC,IAAuBC,EAAkCF,CAAY;AAEpE,SAASG,EAAc;AAAA,EAC7B,UAAAC;AAAA,EACA,cAAAC,IAAe;AAAA,EACf,YAAAC,IAAa;AAAA,EACb,GAAGC;AACJ,GAAuB;AACtB,QAAM,CAACC,GAAOC,CAAQ,IAAIC;AAAA,IACzB,MAAO,aAAa,QAAQJ,CAAU,KAAeD;AAAA,EAAA;AAGtD,EAAAM,EAAU,MAAM;AACf,UAAMC,IAAO,OAAO,SAAS;AAI7B,QAFAA,EAAK,UAAU,OAAO,SAAS,MAAM,GAEjCJ,MAAU,UAAU;AACvB,YAAMK,IAAc,OAAO,WAAW,8BAA8B,EAAE,UACnE,SACA;AAEH,MAAAD,EAAK,UAAU,IAAIC,CAAW;AAC9B;AAAA,IACD;AAEA,IAAAD,EAAK,UAAU,IAAIJ,CAAK;AAAA,EACzB,GAAG,CAACA,CAAK,CAAC;AAEV,QAAMM,IAAQ;AAAA,IACb,OAAAN;AAAA,IACA,UAAU,CAACA,MAAiB;AAC3B,mBAAa,QAAQF,GAAYE,CAAK,GACtCC,EAASD,CAAK;AAAA,IACf;AAAA,EAAA;AAGD,+BACEP,EAAqB,UAArB,EAA+B,GAAGM,GAAO,OAAAO,GACxC,UAAAV,GACF;AAEF;AAEO,MAAMW,IAAW,MAAM;AAC7B,QAAMC,IAAUC,EAAWhB,CAAoB;AAE/C,MAAIe,MAAY;AACf,UAAM,IAAI,MAAM,8CAA8C;AAE/D,SAAOA;AACR;"}