"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const O=require("./index.cjs322.js"),q=require("react"),j=require("./index.cjs468.js"),_=require("./index.cjs469.js"),v=require("./index.cjs470.js"),P=require("./index.cjs471.js");function A(e){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const l in e)if(l!=="default"){const i=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(a,l,i.get?i:{enumerable:!0,get:()=>e[l]})}}return a.default=e,Object.freeze(a)}const n=A(q);var g=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},E=function(e){return[e.deltaX,e.deltaY]},M=function(e){return e&&"current"in e?e.current:e},x=function(e,a){return e[0]===a[0]&&e[1]===a[1]},p=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},I=0,d=[];function W(e){var a=n.useRef([]),l=n.useRef([0,0]),i=n.useRef(),h=n.useState(I++)[0],S=n.useState(_.styleSingleton)[0],b=n.useRef(e);n.useEffect(function(){b.current=e},[e]),n.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(h));var t=O.__spreadArray([e.lockRef.current],(e.shards||[]).map(M),!0).filter(Boolean);return t.forEach(function(r){return r.classList.add("allow-interactivity-".concat(h))}),function(){document.body.classList.remove("block-interactivity-".concat(h)),t.forEach(function(r){return r.classList.remove("allow-interactivity-".concat(h))})}}},[e.inert,e.lockRef.current,e.shards]);var R=n.useCallback(function(t,r){if("touches"in t&&t.touches.length===2||t.type==="wheel"&&t.ctrlKey)return!b.current.allowPinchZoom;var s=g(t),u=l.current,o="deltaX"in t?t.deltaX:u[0]-s[0],f="deltaY"in t?t.deltaY:u[1]-s[1],c,k=t.target,m=Math.abs(o)>Math.abs(f)?"h":"v";if("touches"in t&&m==="h"&&k.type==="range")return!1;var C=P.locationCouldBeScrolled(m,k);if(!C)return!0;if(C?c=m:(c=m==="v"?"h":"v",C=P.locationCouldBeScrolled(m,k)),!C)return!1;if(!i.current&&"changedTouches"in t&&(o||f)&&(i.current=c),!c)return!0;var Y=i.current||c;return P.handleScroll(Y,r,t,Y==="h"?o:f)},[]),y=n.useCallback(function(t){var r=t;if(!(!d.length||d[d.length-1]!==S)){var s="deltaY"in r?E(r):g(r),u=a.current.filter(function(c){return c.name===r.type&&(c.target===r.target||r.target===c.shadowParent)&&x(c.delta,s)})[0];if(u&&u.should){r.cancelable&&r.preventDefault();return}if(!u){var o=(b.current.shards||[]).map(M).filter(Boolean).filter(function(c){return c.contains(r.target)}),f=o.length>0?R(r,o[0]):!b.current.noIsolation;f&&r.cancelable&&r.preventDefault()}}},[]),w=n.useCallback(function(t,r,s,u){var o={name:t,delta:r,target:s,should:u,shadowParent:z(s)};a.current.push(o),setTimeout(function(){a.current=a.current.filter(function(f){return f!==o})},1)},[]),T=n.useCallback(function(t){l.current=g(t),i.current=void 0},[]),L=n.useCallback(function(t){w(t.type,E(t),t.target,R(t,e.lockRef.current))},[]),X=n.useCallback(function(t){w(t.type,g(t),t.target,R(t,e.lockRef.current))},[]);n.useEffect(function(){return d.push(S),e.setCallbacks({onScrollCapture:L,onWheelCapture:L,onTouchMoveCapture:X}),document.addEventListener("wheel",y,v.nonPassive),document.addEventListener("touchmove",y,v.nonPassive),document.addEventListener("touchstart",T,v.nonPassive),function(){d=d.filter(function(t){return t!==S}),document.removeEventListener("wheel",y,v.nonPassive),document.removeEventListener("touchmove",y,v.nonPassive),document.removeEventListener("touchstart",T,v.nonPassive)}},[]);var B=e.removeScrollBar,D=e.inert;return n.createElement(n.Fragment,null,D?n.createElement(S,{styles:p(h)}):null,B?n.createElement(j.RemoveScrollBar,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function z(e){for(var a=null;e!==null;)e instanceof ShadowRoot&&(a=e.host,e=e.host),e=e.parentNode;return a}exports.RemoveScrollSideCar=W;exports.getDeltaXY=E;exports.getTouchXY=g;
//# sourceMappingURL=index.cjs380.js.map
