"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const y=require("react"),o=require("./index.cjs172.js"),l=e=>e instanceof HTMLElement?e:null,q=e=>[...e.querySelectorAll("[data-animated-month]")??[]],I=e=>l(e.querySelector("[data-animated-month]")),k=e=>l(e.querySelector("[data-animated-caption]")),w=e=>l(e.querySelector("[data-animated-weeks]")),z=e=>l(e.querySelector("[data-animated-nav]")),P=e=>l(e.querySelector("[data-animated-weekdays]"));function R(e,C,{classNames:s,months:r,focused:M,dateLib:S}){const v=y.useRef(null),h=y.useRef(r),p=y.useRef(!1);y.useLayoutEffect(()=>{const u=h.current;if(h.current=r,!C||!e.current||!(e.current instanceof HTMLElement)||r.length===0||u.length===0||r.length!==u.length)return;const x=S.isSameMonth(r[0].date,u[0].date),f=S.isAfter(r[0].date,u[0].date),m=f?s[o.Animation.caption_after_enter]:s[o.Animation.caption_before_enter],A=f?s[o.Animation.weeks_after_enter]:s[o.Animation.weeks_before_enter],H=v.current,L=e.current.cloneNode(!0);if(L instanceof HTMLElement?(q(L).forEach(t=>{if(!(t instanceof HTMLElement))return;const c=I(t);c&&t.contains(c)&&t.removeChild(c);const n=k(t);n&&n.classList.remove(m);const a=w(t);a&&a.classList.remove(A)}),v.current=L):v.current=null,p.current||x||M)return;const _=H instanceof HTMLElement?q(H):[],T=q(e.current);if(T?.every(i=>i instanceof HTMLElement)&&_&&_.every(i=>i instanceof HTMLElement)){p.current=!0,e.current.style.isolation="isolate";const i=z(e.current);i&&(i.style.zIndex="1"),T.forEach((t,c)=>{const n=_[c];if(!n)return;t.style.position="relative",t.style.overflow="hidden";const a=k(t);a&&a.classList.add(m);const d=w(t);d&&d.classList.add(A);const W=()=>{p.current=!1,e.current&&(e.current.style.isolation=""),i&&(i.style.zIndex=""),a&&a.classList.remove(m),d&&d.classList.remove(A),t.style.position="",t.style.overflow="",t.contains(n)&&t.removeChild(n)};n.style.pointerEvents="none",n.style.position="absolute",n.style.overflow="hidden",n.setAttribute("aria-hidden","true");const b=P(n);b&&(b.style.opacity="0");const E=k(n);E&&(E.classList.add(f?s[o.Animation.caption_before_exit]:s[o.Animation.caption_after_exit]),E.addEventListener("animationend",W));const g=w(n);g&&g.classList.add(f?s[o.Animation.weeks_before_exit]:s[o.Animation.weeks_after_exit]),t.insertBefore(n,t.firstChild)})}})}exports.useAnimation=R;
//# sourceMappingURL=index.cjs173.js.map
